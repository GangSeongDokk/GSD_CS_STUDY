# Index
- 네트워크 기초/용어
- 네트워크 토폴로지
- 네트워크 테스트

# 네트워크
- 네트워크 : 컴퓨터 등 장치들이 통신 기술을 이용하여 구축하는 영결망을 지칭하는 용어

## 네트워크의 기초
- 네트워크 : 노드와 링크가 서로 연결되어 있으며 리소스를 공유하는 집합
    - 노드 : 네트워크 장치(서버, 라우터, 스위치 등)
    - 링크 : 유선 또는 무선

## 처리량과 지연 시간
- 좋은 네트워크 : 많은 처리량을 처리하며 지연시간이 짧고 장애 빈도가 적으며 좋은 보안을 갖춘 네트워크

### 처리량(throughput)
- 링크 내에서 성공적으로 전달된 데이터의 양, 보통 얼마 만큼의 트래픽을 처리했는지를 나타냄
    - 많은 트래픽을 처리한다 = 많은 처리량을 갖는다.
- 단위 : bps (초당 전송 또는 수신되는 비트의 수)
- 영향 : 트래픽, 네트워크 장치 간의 대역폭, 네트워크 중간에 발생하는 에러, 장치의 하드웨어 스펙에 영향을 받음
    - 대여폭 : 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수(한도라고 생각하면 됨)

### 지연 시간(latency)
- 요청이 처리되는 시간, 어떤 메시지가 두 장치 사이를 왕복하는데 걸리는 시간
- ex) 가는데 500ms + 오는데 1500ms = 2.0s의 지연시간
- 영향 : 매체 타입(무선, 유선), 패킷 크기, 라우터의 패킷 처리 시간에 영향을 받음

## 네트워크 토폴로지와 병목현상

### 네트워크 토폴로지
- 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태(네트워크 설계)
- 토폴로지가 중요한 이유 : 병목 현상을 찾을 때 중요한 기준이 되기 때문

### 트리 토폴로지(계층형 토폴로지)
- 형태 : 트리 형태
- 장점 : 노드의 추가 삭제가 쉬움
- 단점 : 특정 노드에 트래픽이 집중될 때 하위 노드에 영향을 끼침

### 버스 토폴로지
- 형태 : 중앙 통신 회선 하나에 여러 개의 노드가 연결
- 장점 : 설치 비용이적고 신뢰성이 우수, 중앙 통신 회선에 노드를 추가하거나 삭제하기 쉬움
- 단점 : 스푸핑이 가능
    - 스푸핑 : 스위칭 기능 마비 혹은 특정 노드에 해당 패킷이 오도록 처리하는 것 (훔쳐보는 것)

### 스타 토폴로지
- 형태 : 중앙에 있는 노드에 모두 연결된 네트워크 구성
- 장점 : 노드 추가 용이, 에러 탐지 용이, 패킷 충돌 발생 가능성 낮음
- 단점 : 중앙 노드 장애시 전체 네트워크 사용 불가, 설치 비용 고가

### 링형 토폴로지
- 형태 : 각각의 노드가 양 옆의 두 노드와 연결하여 전체적으로 고리처럼 하나의 연속된 길을 통해 통신하는 망
- 장점 : 노드 수가 증가되어도 네트워크상의 손실이 거의 없음, 충돌 발생 가능성 낮음, 노드의 고장 발견을 쉽게 찾을 수 있음
- 단점 : 회선에 장애 발생시 전체에 영향

### 메쉬 토폴로지(망형 토플로지)
- 형태 : 그물망처럼 연결되어 있는 구조
- 장점 : 한 단말 장치에 장애 발생에도 네트워크 사용가능, 트래픽 분산 처리 가능
- 단점 : 노드 추가의 어려움, 구축 비용과 운용 비용이 고가

### 정리

|토폴로지|형태|장점|단점|
|---|---|---|---|
|트리|트리구조|노드의 추가/삭제 용이|특정 노드 트래픽 몰릴시 하위 노드에 영향을 끼침|
|버스|칠지도 같은 구조|경제성, 신뢰성, 중앙 통신회선에 노드 추가/삭제 용이|스푸핑(훔쳐볼 수 있음)|
|스타|중앙 노드에 모두 연결|노드 추가 및 에러 탐지 용이, 낮은 패킷 충돌|낮은 경제성, 중앙노드 장애시 전체 사용불가|
|링형|하나의 원위의 점들 구조|노드 수 증가시 네트워크 손실 거의 없음, 낮은 충돌 발생 가능성, 노드 고장 발견 용이|회선에 장애시 전체 영향|
|메쉬|모든 노드간 연결구조|노드 장애 발생의 적은 영향, 트래픽 분산처리 가능|낮은 경제성|

## 네트워크 분류
- WAN : 세계 규모 (Wide Area Network)
- MAN : 대도시(메트로폴리스) 규모 (Metropolitan Area Network)
- LAN : 캠버스, 사무실, 개인 소유 규모 (Local Area Network)
- LAN으로 갈수록 전송속도는 빠르고 혼잡도는 적어짐

## 네트워크 성능 분석 명령어
- 네트워크 병목 현상의 주된 원인
    - 네트워크 대역폭
    - 네트워크 토폴로지
    - 서버 CPU, 메모리 사용량
    - 비효율적인 네트워크 구성
- `네트워크 관련 테스트`와 `네트워크와 무관한 테스트`를 통해 무엇이 문제인지 확인을 해봐야함

## 네트워크 테스트

### ping (Packet INternet Groper)
- 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
- 해당 노드의 패킷 수신 상태와 도달하기 까지 시간 등을 알 수 있음
- 해당 노드까지 네트워크가 잘 연결되어 있는지 확인할 수 있음
- TCP/IP 프로토콜 중에 ICMP 프로토콜을 통해 동작 -> 비지원 혹은 정책상 ICMP나 traceroute를 차단하는 대상의 경우 ping테스트 불가
```cmd
~~~~>ping [IP 주소 또는 도메인 주소]
~~~~>ping www.naver.com
```

### netstat
- 접속되어 있는 서비스들의 네트워크 상태를 표시하는데 사용
- 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여줌
- 주로 `서비스 포트가 열려 있는지 확인`할 때 사용
```cmd
~~~~>netstat
```

### nslookup
- DNS에 관련된 내용을 확인하기 위해 쓰는 명령어
- 특정 도메인에 매핑된 IP를 확인하기 위해 사용함.
```cmd
~~~~~>nslookup
[도메인 주소]
```

### tracert
- 윈도우 : tracert / 리눅스 : traceroute
- 목적지 노드까지 네트워크 경로를 확인할 때 사용하는 명령어
- 목적지 노드까지 구간들 중 어느 구간에서 응답 시간이 느려지는 지 등을 확인할 수 있음
```cmd
~~~~~>tracert [도메인 주소]
```

### 기타
- fip : 대형 파일을 전송하여 테스팅
- tcpdump : 노드로 오고 가는 패킷을 캡쳐

### 네트워크 분석 프로그램
- [wireshark](https://www.wireshark.org/), [netmon](https://netmon.com/)

## 네트워크 프로토콜 표준화
- 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스
- IEEE 또는 IETF 에서 정함
- ex) [IEEE802.3 : 유선 LAN 프로토콜](https://www.ieee802.org/3/) / HTTP
